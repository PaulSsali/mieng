(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{347:()=>{},4147:e=>{e.exports={style:{fontFamily:"'Geist', 'Geist Fallback'",fontStyle:"normal"},className:"__className_4d318d",variable:"__variable_4d318d"}},5889:(e,a,o)=>{"use strict";o.d(a,{AuthProvider:()=>p,A:()=>h});var t=o(5155),l=o(2115),s=o(6203),r=o(3915),n=o(6864);let i=(0,r.Dk)().length?(0,r.Sx)():(0,r.Wp)({apiKey:"AIzaSyBSGfwPVqQiJg-yT-J9PZhVc9Lc_32SGFM",authDomain:"mieng-31e8f.firebaseapp.com",projectId:"mieng-31e8f",storageBucket:"mieng-31e8f.firebasestorage.app",messagingSenderId:"1087582020279",appId:"1:1087582020279:web:1123c9bac5ec993f6de332",measurementId:"G-12S0EJDBEZ"}),c=(0,s.xI)(i);try{(0,n.P5)(i)}catch(e){console.error("Analytics initialization failed:",e)}var d=o(5695);let u=(0,l.createContext)({user:null,loading:!0,error:null,login:async()=>{},signup:async()=>{},logout:async()=>{},loginWithGoogle:async()=>{},clearError:()=>{}}),p=e=>{let{children:a}=e,[o,r]=(0,l.useState)(null),[n,i]=(0,l.useState)(!0),[p,h]=(0,l.useState)(null),g=(0,d.useRouter)();(0,l.useEffect)(()=>{let e=(0,s.hg)(c,e=>{r(e),i(!1)},e=>{console.error("Auth state change error:",e),h(e.message),i(!1)});return()=>e()},[]);let y=async(e,a)=>{i(!0),h(null);try{await (0,s.x9)(c,e,a),g.push("/dashboard")}catch(a){console.error("Login error:",a);let e="Failed to login";"auth/invalid-credential"===a.code?e="Invalid email or password":"auth/user-not-found"===a.code?e="User not found":"auth/wrong-password"===a.code?e="Incorrect password":"auth/too-many-requests"===a.code?e="Too many unsuccessful login attempts. Please try again later.":"auth/operation-not-allowed"===a.code&&(e="Email/password sign-in is not enabled. Please contact support."),h(e)}finally{i(!1)}},m=async(e,a)=>{i(!0),h(null);try{await (0,s.eJ)(c,e,a),g.push("/dashboard")}catch(a){console.error("Signup error:",a);let e="Failed to sign up";"auth/email-already-in-use"===a.code?e="This email is already registered":"auth/invalid-email"===a.code?e="Invalid email address":"auth/weak-password"===a.code?e="Password is too weak. It should be at least 6 characters":"auth/operation-not-allowed"===a.code&&(e="Email/password sign-up is not enabled. Please contact support."),h(e)}finally{i(!1)}},b=async()=>{h(null);try{await (0,s.CI)(c),g.push("/")}catch(e){console.error("Logout error:",e),h(e.message)}},f=async()=>{i(!0),h(null);try{let e=new s.HF;await (0,s.df)(c,e),g.push("/dashboard")}catch(a){console.error("Google login error:",a);let e="Failed to login with Google";"auth/popup-closed-by-user"===a.code?e="Login canceled. Please try again.":"auth/popup-blocked"===a.code?e="Pop-up was blocked. Please allow pop-ups for this site.":"auth/cancelled-popup-request"===a.code?e="Multiple pop-ups detected. Please try again.":"auth/operation-not-allowed"===a.code&&(e="Google sign-in is not enabled. Please contact support."),h(e)}finally{i(!1)}};return(0,t.jsx)(u.Provider,{value:{user:o,loading:n,error:p,login:y,signup:m,logout:b,loginWithGoogle:f,clearError:()=>{h(null)}},children:a})},h=()=>(0,l.useContext)(u)},8489:e=>{e.exports={style:{fontFamily:"'Geist Mono', 'Geist Mono Fallback'",fontStyle:"normal"},className:"__className_ea5f4b",variable:"__variable_ea5f4b"}},8930:(e,a,o)=>{Promise.resolve().then(o.t.bind(o,4147,23)),Promise.resolve().then(o.t.bind(o,8489,23)),Promise.resolve().then(o.t.bind(o,347,23)),Promise.resolve().then(o.bind(o,5889))}},e=>{var a=a=>e(e.s=a);e.O(0,[896,888,340,441,684,358],()=>a(8930)),_N_E=e.O()}]);