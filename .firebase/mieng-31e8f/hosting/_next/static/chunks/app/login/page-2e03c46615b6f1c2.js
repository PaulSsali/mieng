(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{285:(e,a,s)=>{"use strict";s.d(a,{$:()=>i});var r=s(5155);s(2115);var t=s(9708),o=s(2085),n=s(9434);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function i(e){let{className:a,variant:s,size:o,asChild:i=!1,...d}=e,c=i?t.DX:"button";return(0,r.jsx)(c,{"data-slot":"button",className:(0,n.cn)(l({variant:s,size:o,className:a})),...d})}},5889:(e,a,s)=>{"use strict";s.d(a,{AuthProvider:()=>p,A:()=>h});var r=s(5155),t=s(2115),o=s(6203),n=s(3915),l=s(6864);let i=(0,n.Dk)().length?(0,n.Sx)():(0,n.Wp)({apiKey:"AIzaSyBSGfwPVqQiJg-yT-J9PZhVc9Lc_32SGFM",authDomain:"mieng-31e8f.firebaseapp.com",projectId:"mieng-31e8f",storageBucket:"mieng-31e8f.firebasestorage.app",messagingSenderId:"1087582020279",appId:"1:1087582020279:web:1123c9bac5ec993f6de332",measurementId:"G-12S0EJDBEZ"}),d=(0,o.xI)(i);try{(0,l.P5)(i)}catch(e){console.error("Analytics initialization failed:",e)}var c=s(5695);let u=(0,t.createContext)({user:null,loading:!0,error:null,login:async()=>{},signup:async()=>{},logout:async()=>{},loginWithGoogle:async()=>{},clearError:()=>{}}),p=e=>{let{children:a}=e,[s,n]=(0,t.useState)(null),[l,i]=(0,t.useState)(!0),[p,h]=(0,t.useState)(null),g=(0,c.useRouter)();(0,t.useEffect)(()=>{let e=(0,o.hg)(d,e=>{n(e),i(!1)},e=>{console.error("Auth state change error:",e),h(e.message),i(!1)});return()=>e()},[]);let m=async(e,a)=>{i(!0),h(null);try{await (0,o.x9)(d,e,a),g.push("/dashboard")}catch(a){console.error("Login error:",a);let e="Failed to login";"auth/invalid-credential"===a.code?e="Invalid email or password":"auth/user-not-found"===a.code?e="User not found":"auth/wrong-password"===a.code?e="Incorrect password":"auth/too-many-requests"===a.code?e="Too many unsuccessful login attempts. Please try again later.":"auth/operation-not-allowed"===a.code&&(e="Email/password sign-in is not enabled. Please contact support."),h(e)}finally{i(!1)}},x=async(e,a)=>{i(!0),h(null);try{await (0,o.eJ)(d,e,a),g.push("/dashboard")}catch(a){console.error("Signup error:",a);let e="Failed to sign up";"auth/email-already-in-use"===a.code?e="This email is already registered":"auth/invalid-email"===a.code?e="Invalid email address":"auth/weak-password"===a.code?e="Password is too weak. It should be at least 6 characters":"auth/operation-not-allowed"===a.code&&(e="Email/password sign-up is not enabled. Please contact support."),h(e)}finally{i(!1)}},f=async()=>{h(null);try{await (0,o.CI)(d),g.push("/")}catch(e){console.error("Logout error:",e),h(e.message)}},v=async()=>{i(!0),h(null);try{let e=new o.HF;await (0,o.df)(d,e),g.push("/dashboard")}catch(a){console.error("Google login error:",a);let e="Failed to login with Google";"auth/popup-closed-by-user"===a.code?e="Login canceled. Please try again.":"auth/popup-blocked"===a.code?e="Pop-up was blocked. Please allow pop-ups for this site.":"auth/cancelled-popup-request"===a.code?e="Multiple pop-ups detected. Please try again.":"auth/operation-not-allowed"===a.code&&(e="Google sign-in is not enabled. Please contact support."),h(e)}finally{i(!1)}};return(0,r.jsx)(u.Provider,{value:{user:s,loading:l,error:p,login:m,signup:x,logout:f,loginWithGoogle:v,clearError:()=>{h(null)}},children:a})},h=()=>(0,t.useContext)(u)},8998:(e,a,s)=>{Promise.resolve().then(s.bind(s,9690))},9434:(e,a,s)=>{"use strict";s.d(a,{cn:()=>o});var r=s(2596),t=s(9688);function o(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,t.QP)((0,r.$)(a))}},9690:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>c});var r=s(5155),t=s(2115),o=s(6874),n=s.n(o),l=s(6766),i=s(285),d=s(5889);function c(){let[e,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),{login:c,loginWithGoogle:u,loading:p,error:h,clearError:g}=(0,d.A)();(0,t.useEffect)(()=>(g(),()=>g()),[g]);let m=async a=>{a.preventDefault(),e&&s&&await c(e,s)},x=async()=>{await u()};return(0,r.jsx)("div",{className:"min-h-screen flex flex-col",children:(0,r.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center p-4 md:p-8",children:(0,r.jsxs)("div",{className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"mb-8 flex flex-col items-center",children:[(0,r.jsxs)(n(),{href:"/",className:"flex items-center gap-2 mb-6",children:[(0,r.jsx)(l.default,{src:"/award-icon.svg",alt:"eMate Logo",width:36,height:36}),(0,r.jsx)("span",{className:"font-bold text-3xl",children:"eMate"})]}),(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Log in to your account"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Welcome back! Please enter your details."})]}),h&&(0,r.jsx)("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded-md text-sm",children:h}),(0,r.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),(0,r.jsx)("input",{id:"email",type:"email",value:e,onChange:e=>a(e.target.value),placeholder:"Enter your email",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",required:!0,disabled:p})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium",children:"Password"}),(0,r.jsx)(n(),{href:"/forgot-password",className:"text-sm text-primary hover:text-primary-dark",children:"Forgot password?"})]}),(0,r.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>o(e.target.value),placeholder:"Enter your password",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary",required:!0,disabled:p})]}),(0,r.jsx)(i.$,{type:"submit",className:"w-full btn-login",disabled:p,children:p?"Logging in...":"Log in"})]}),(0,r.jsxs)("div",{className:"my-6 flex items-center",children:[(0,r.jsx)("div",{className:"flex-1 border-t"}),(0,r.jsx)("span",{className:"px-4 text-sm text-gray-600",children:"Or continue with"}),(0,r.jsx)("div",{className:"flex-1 border-t"})]}),(0,r.jsxs)(i.$,{type:"button",variant:"outline",className:"w-full flex items-center justify-center gap-2",onClick:x,disabled:p,children:[(0,r.jsx)(l.default,{src:"/google-icon.svg",alt:"Google",width:18,height:18}),(0,r.jsx)("span",{children:"Google"})]}),(0,r.jsxs)("p",{className:"mt-8 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,r.jsx)(n(),{href:"/signup",className:"text-primary hover:text-primary-dark font-medium",children:"Sign up"})]})]})})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[888,992,340,971,441,684,358],()=>a(8998)),_N_E=e.O()}]);